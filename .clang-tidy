Checks: >
  bugprone-*,
  clang-analyzer-*,
  cppcoreguidelines-*,
  modernize-*,
  performance-*,
  portability-*,
  readability-*,

  # Reasonable disables — these are almost always too noisy in real codebases
  -modernize-use-trailing-return-type,
  -cppcoreguidelines-avoid-magic-numbers,
  -readability-magic-numbers,
  -cppcoreguidelines-pro-type-union-access,
  -cppcoreguidelines-pro-type-reinterpret-cast,
  -cppcoreguidelines-owning-memory,           # remove if you don’t use raw new/delete
  -readability-identifier-length,             # optional, remove if you want short names banned
  -readability-implicit-bool-conversion      # sometimes too aggressive with ALLOW_SHORT_IF_STATEMENTS

# Fail the build/CI on any warning (highly recommended)
WarningsAsErrors: '*'

# ONLY analyze your code + your own headers
# Ignores everything under common external/third-party paths
HeaderFilterRegex: '^((?!/usr/|/libs/|/external/|/third_party/|/build/|.*_deps/|/cmake/|/generated/).)*$'

# Also ignore system headers completely (they’re never your fault)
SystemHeaders: false

# Extra safety — never emit diagnostics from external headers, even if included
AnalyzeTemporaryDtors: false

# LLVM 18+ option (works on 17 too, just ignored)
UserDiagnosticConfig:
  SuppressInlineHeaders: true   # suppresses warnings from headers included into your files

# Use .clang-format if it exists
FormatStyle: file

# Optional: be stricter on some useful things
CheckOptions:
  - key: cppcoreguidelines-narrowing-conversions.WarnOnIntegerNarrowingConversion
    value: 'true'
  - key: modernize-use-nullptr.DeleteDeadInitializers
    value: 'true'
